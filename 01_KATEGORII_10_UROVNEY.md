# KATEGORII V GLUBINU 10+ UROVNEY - POLNAYA DOKUMENTACIYA

## OBSCHAYA STRUKTURA

### Printsipy postroeniya
1. Ierarkhicheskaya struktura
2. Neogranichennaya glubina vlozhennosti
3. Dinamicheskoe dobavlenie kategoriy
4. Multilanguage podderzhka
5. SEO-optimizaciya URL
6. Bystryy poisk po kategoriyam

---

## AVTOMOBILI (10 UROVNEY)

### Uroven 1: Osnovnaya kategoriya
```
Avtomobili / Cars / Autos
```

### Uroven 2: Tip transporta
```
- Legkovye avtomobili
- Vnedorozhniki (SUV)
- Krossovery
- Mikroavtobusy
- Sportivnye avtomobili
- Elektromobili
- Gibridnye avtomobili
```

### Uroven 3: Marka (primery)
```
- Audi
- BMW
- Mercedes-Benz
- Volkswagen
- Porsche
- Opel
- Ford
- Toyota
- Honda
- Nissan
(+ 100+ marok)
```

### Uroven 4: Model
```
Primer dlya BMW:
- 1 Series
- 2 Series
- 3 Series
- 4 Series
- 5 Series
- 6 Series
- 7 Series
- 8 Series
- X1, X2, X3, X4, X5, X6, X7
- Z4
- i3, i4, i7, i8, iX
- M2, M3, M4, M5, M8
```

### Uroven 5: Pokolenie/Modifikaciya
```
Primer dlya BMW 3 Series:
- E21 (1975-1983)
- E30 (1982-1994)
- E36 (1990-2000)
- E46 (1998-2007)
- E90/E91/E92/E93 (2005-2013)
- F30/F31/F34/F35 (2011-2019)
- G20/G21 (2019-nastoyaschee vremya)
```

### Uroven 6: God vypuska
```
- 2025
- 2024
- 2023
- 2022
- 2021
- 2020
...
- 1950 i ranshe
```

### Uroven 7: Tip kuzova
```
- Sedan
- Hatchback (Khetchbek)
- Wagon (Universal)
- Coupe (Kupe)
- Convertible (Kabriolet)
- Limousine
- Touring
- Gran Coupe
- Gran Turismo
```

### Uroven 8: Tip dvigatelya
```
- Benzinovyy (Gasoline):
  - 1.0L
  - 1.2L
  - 1.4L
  - 1.5L
  - 1.6L
  - 1.8L
  - 2.0L
  - 2.5L
  - 3.0L
  - 3.5L
  - 4.0L+
  
- Dizelnyy (Diesel):
  - 1.5L
  - 1.6L
  - 1.8L
  - 2.0L
  - 2.5L
  - 3.0L+
  
- Elektricheskiy:
  - Battery Electric (BEV)
  - Extended Range (EREV)
  
- Gibridnyy:
  - Plug-in Hybrid (PHEV)
  - Mild Hybrid (MHEV)
  - Full Hybrid (HEV)
  
- VodorodnÑ‹Ñƒ:
  - Fuel Cell (FCEV)
```

### Uroven 9: Komplektaciya/Versiya
```
Primer dlya BMW:
- Base / Standard
- Sport Line
- Luxury Line
- M Sport
- M Sport Plus
- Individual
- xDrive (polnyy privod)
- sDrive (zadniy privod)
- Advantage
- Excellence
- Pure
- Inspiring
```

### Uroven 10: Dopolnitelnye parametry
```
- Tsvet kuzova:
  - Belyy / White / WeiÃŸ
  - Chernyy / Black / Schwarz
  - Seryy / Gray / Grau
  - Siniy / Blue / Blau
  - Krasnyy / Red / Rot
  - (+ 50+ tsvetov)
  
- Tsvet salona:
  - Chernyy kozha
  - Bezhevyy kozha
  - Korichnevyy kozha
  - Seraya tkan
  - Kombinirovannaya otdelka
  
- Korobka peredach:
  - Mekhanicheskaya (Manual)
  - Avtomaticheskaya (Automatic)
  - Robotizirovannaya (DCT)
  - Variator (CVT)
  - Kolichestvo peredach (5, 6, 7, 8, 9+)
  
- Tip privoda:
  - Peredniy (FWD)
  - Zadniy (RWD)
  - Polnyy (AWD/4WD)
  - Poluprivod
```

---

## MOTOCIKLY (10 UROVNEY)

### Uroven 1: Osnova
```
Motocikly / Motorcycles / MotorrÃ¤der
```

### Uroven 2: Tip motocikla
```
- Sportivnye
- Turisticheskie (Touring)
- Kruizery (Cruiser)
- Chopper
- Naked Bike
- Enduro
- Cross
- Skuter
- Moped
- Elektroskoter
- Kvadrocikly (ATV)
```

### Uroven 3: Marka
```
- BMW
- Honda
- Yamaha
- Kawasaki
- Suzuki
- Ducati
- Harley-Davidson
- KTM
- Triumph
- Aprilia
(+ 80+ marok)
```

### Uroven 4: Model
```
Primer dlya BMW:
- S1000RR
- R1250GS
- F900R
- G310R
- K1600GT
- R18
- CE 04
```

### Uroven 5: God vypuska
```
2025, 2024, 2023... 1950
```

### Uroven 6: Obem dvigatelya
```
- 50 cc
- 125 cc
- 250 cc
- 300 cc
- 500 cc
- 600 cc
- 750 cc
- 1000 cc
- 1200 cc
- 1500 cc+
```

### Uroven 7: Moshchnost
```
- Do 11 kW (A1)
- Do 35 kW (A2)
- Svyshe 35 kW (A)
```

### Uroven 8: Tip dvigatelya
```
- 2-taktnÑ‹Ñƒ
- 4-taktnÑ‹Ñƒ
- Odnocilindrovy
- Dvuhcilindrovy
- Chetyrehcilindrovy
- ShesticilindrovÑ‹Ñƒ
- Elektricheskiy
```

### Uroven 9: Tsvet
```
- Chernyy
- Belyy
- Krasnyy
- Siniy
- Zelenyy
- Zheltyy
- Serebristyy
```

### Uroven 10: Dopolnitelno
```
- ABS (da/net)
- Traction Control
- Cruise Control
- Heated Grips
- Quick Shifter
- Ride Modes
```

---

## GRUZOVIKI (10 UROVNEY)

### Uroven 1: Osnova
```
Gruzoviki / Trucks / LKW
```

### Uroven 2: Tip gruzovika
```
- Legkiye gruzoviki (do 3.5 t)
- Srednie gruzoviki (3.5-12 t)
- Tyazhelyye gruzoviki (12+ t)
- Sedel nyye tyagachi
- Samosval y
- Refrizheratory
- Fumury
- Manipulyatory
- Evakuatory
- Avtovyshki
```

### Uroven 3: Marka
```
- Mercedes-Benz
- MAN
- Scania
- Volvo
- DAF
- Iveco
- Renault Trucks
- Kamas
```

### Uroven 4: Model
```
Mercedes-Benz:
- Sprinter
- Vito
- Citan
- Actros
- Arocs
- Atego
- Axor
- Econic
```

### Uroven 5: Tonnazhnost
```
- Do 1.5 t
- 1.5 - 3.5 t
- 3.5 - 7.5 t
- 7.5 - 12 t
- 12 - 18 t
- 18 - 26 t
- 26+ t
```

### Uroven 6: God vypuska
```
2025, 2024... 1970
```

### Uroven 7: Tip kabiny
```
- Odnoryadnaya
- Dvuhryadnaya
- Spalnik
- Korotkaya
- Dlinnaya
- Nizkaya
- Vysokaya
```

### Uroven 8: Dlina kuzova
```
- 2.5 m
- 3.0 m
- 4.0 m
- 5.0 m
- 6.0 m
- 7.5 m
- 13.6 m (fura)
```

### Uroven 9: Korobka peredach
```
- Mekhanicheskaya 6
- Mekhanicheskaya 8
- Mekhanicheskaya 12
- Mekhanicheskaya 16
- Avtomaticheskaya
- Robotizirovannaya
```

### Uroven 10: Ekologicheskiy klass
```
- Euro 3
- Euro 4
- Euro 5
- Euro 6
- Euro 6c
- Euro 6d
- Elektricheskiy
```

---

## DOMA NA KOLESAH (10 UROVNEY)

### Uroven 1: Osnova
```
Doma na kolesah / Motorhomes / Wohnmobile
```

### Uroven 2: Tip
```
- Avtodoma (Motorhome)
- Karavany (Caravan)
- Treilery
- Kempery
- Integrirovannyye
- Polunintegrirovannyye
- Kastenvany
```

### Uroven 3: Marka
```
- Mercedes-Benz
- Fiat
- Volkswagen
- Ford
- Peugeot
- CitroÃ«n
- Hymer
- Dethleffs
- Knaus
- BÃ¼rstner
```

### Uroven 4: Model
```
VW:
- California
- Grand California
- Caddy California
- Transporter
- Crafter
```

### Uroven 5: God
```
2025, 2024... 1980
```

### Uroven 6: Klass
```
- A-klass (Integrirovannye)
- B-klass (Polnaintegrirovannyye)
- C-klass (Alcove)
- Kastenvany
- Luxury Class
```

### Uroven 7: Dlina
```
- Do 5 m
- 5-6 m
- 6-7 m
- 7-8 m
- 8-9 m
- Svyshe 9 m
```

### Uroven 8: Kolichestvo spalnyh mest
```
- 2 mesta
- 3 mesta
- 4 mesta
- 5 mest
- 6+ mest
```

### Uroven 9: Komplektaciya
```
- Kuhnya
- Dush
- Tualet
- Otoplenie
- Konditsioner
- Solnechnye paneli
- TV/Sputnik
- Markiza
- Velosipednyy kronshteyn
```

### Uroven 10: Dopolnitelno
```
- Zimnyy paket
- Off-road paket
- Navigatsiya
- Backup kamera
- Kruiz-kontrol
- Parktronic
- Avtonomnost (dni)
```

---

## E-BIKES (10 UROVNEY)

### Uroven 1: Osnova
```
E-Bikes / Elektrovelosi pedy / E-FahrrÃ¤der
```

### Uroven 2: Tip
```
- Gorodskoy (City)
- GornÑ‹Ñƒ (Mountain)
- Trekkingovy
- Gravel
- Cargo (gruzovoy)
- Skladnoy
- Sportivnyy
```

### Uroven 3: Marka
```
- Specialized
- Trek
- Giant
- Cube
- Haibike
- Riese & MÃ¼ller
- Kalkhoff
- Gazelle
- Bulls
```

### Uroven 4: Model
```
Trek:
- Powerfly
- Rail
- Fuel EXe
- Allant+
- Verve+
```

### Uroven 5: God vypuska
```
2025, 2024, 2023...
```

### Uroven 6: Tip dvigatelya
```
- Bosch Performance Line
- Bosch Performance CX
- Shimano Steps
- Yamaha
- Brose
- Fazua
```

### Uroven 7: Emkost batarei
```
- 400 Wh
- 500 Wh
- 625 Wh
- 750 Wh
- 1000+ Wh
```

### Uroven 8: Razmer ramy
```
- XS (140-155 cm)
- S (155-165 cm)
- M (165-175 cm)
- L (175-185 cm)
- XL (185-195 cm)
- XXL (195+ cm)
```

### Uroven 9: Razmer koles
```
- 26"
- 27.5" (650B)
- 29"
- 20" (skladnoy)
```

### Uroven 10: Komplektaciya
```
- Tip tormozov (hydraulic/mech)
- Osveschenie
- Bagazhnik
- Krylya
- Podstavka
- DispleÑƒ
- Zamok
```

---

## SQL STRUKTURA KATEGORIY

### Tablica categories

```sql
CREATE TABLE categories (
    id INT AUTO_INCREMENT PRIMARY KEY,
    parent_id INT NULL,
    name_de VARCHAR(255) NOT NULL,
    name_en VARCHAR(255) NOT NULL,
    name_ru VARCHAR(255) NOT NULL,
    slug VARCHAR(255) UNIQUE NOT NULL,
    level INT DEFAULT 0,
    sort_order INT DEFAULT 0,
    icon VARCHAR(100),
    description_de TEXT,
    description_en TEXT,
    description_ru TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    seo_title_de VARCHAR(255),
    seo_title_en VARCHAR(255),
    seo_title_ru VARCHAR(255),
    seo_description_de TEXT,
    seo_description_en TEXT,
    seo_description_ru TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (parent_id) REFERENCES categories(id) ON DELETE CASCADE,
    INDEX idx_parent (parent_id),
    INDEX idx_level (level),
    INDEX idx_slug (slug),
    INDEX idx_active (is_active)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### Tablica category_attributes

```sql
CREATE TABLE category_attributes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    category_id INT NOT NULL,
    attribute_name VARCHAR(100) NOT NULL,
    attribute_type ENUM('text', 'number', 'select', 'multiselect', 'boolean', 'range') NOT NULL,
    attribute_values TEXT, -- JSON dlya select/multiselect
    is_required BOOLEAN DEFAULT FALSE,
    is_filterable BOOLEAN DEFAULT TRUE,
    is_searchable BOOLEAN DEFAULT TRUE,
    sort_order INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE CASCADE,
    INDEX idx_category (category_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### Tablica listing_categories

```sql
CREATE TABLE listing_categories (
    listing_id INT NOT NULL,
    category_id INT NOT NULL,
    PRIMARY KEY (listing_id, category_id),
    FOREIGN KEY (listing_id) REFERENCES listings(id) ON DELETE CASCADE,
    FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE CASCADE,
    INDEX idx_listing (listing_id),
    INDEX idx_category (category_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

---

## PHP KOD - RABOTA S KATEGORIYAMI

### CategoryModel.php

```php
<?php

class CategoryModel {
    private $db;
    
    public function __construct($database) {
        $this->db = $database;
    }
    
    /**
     * Poluchit vsy u ierarhiyu kategoriy
     */
    public function getCategoryTree($parentId = null, $level = 0) {
        $sql = "SELECT * FROM categories 
                WHERE parent_id " . ($parentId ? "= :parent_id" : "IS NULL") . "
                AND is_active = 1 
                ORDER BY sort_order ASC";
        
        $stmt = $this->db->prepare($sql);
        if ($parentId) {
            $stmt->bindParam(':parent_id', $parentId);
        }
        $stmt->execute();
        
        $categories = [];
        while ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {
            $row['level'] = $level;
            $row['children'] = $this->getCategoryTree($row['id'], $level + 1);
            $categories[] = $row;
        }
        
        return $categories;
    }
    
    /**
     * Poluchit put kategorii (breadcrumbs)
     */
    public function getCategoryPath($categoryId, $lang = 'de') {
        $path = [];
        $currentId = $categoryId;
        
        while ($currentId) {
            $sql = "SELECT id, parent_id, name_$lang as name, slug 
                    FROM categories WHERE id = :id";
            $stmt = $this->db->prepare($sql);
            $stmt->bindParam(':id', $currentId);
            $stmt->execute();
            
            $category = $stmt->fetch(PDO::FETCH_ASSOC);
            if ($category) {
                array_unshift($path, $category);
                $currentId = $category['parent_id'];
            } else {
                break;
            }
        }
        
        return $path;
    }
    
    /**
     * Poluchit atributy kategorii
     */
    public function getCategoryAttributes($categoryId) {
        $sql = "SELECT * FROM category_attributes 
                WHERE category_id = :category_id 
                ORDER BY sort_order ASC";
        
        $stmt = $this->db->prepare($sql);
        $stmt->bindParam(':category_id', $categoryId);
        $stmt->execute();
        
        $attributes = [];
        while ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {
            if ($row['attribute_values']) {
                $row['attribute_values'] = json_decode($row['attribute_values'], true);
            }
            $attributes[] = $row;
        }
        
        return $attributes;
    }
    
    /**
     * Dobavit novuyu kategoriyu
     */
    public function addCategory($data) {
        $sql = "INSERT INTO categories (
            parent_id, name_de, name_en, name_ru, slug, level,
            sort_order, icon, description_de, description_en, description_ru,
            seo_title_de, seo_title_en, seo_title_ru,
            seo_description_de, seo_description_en, seo_description_ru
        ) VALUES (
            :parent_id, :name_de, :name_en, :name_ru, :slug, :level,
            :sort_order, :icon, :description_de, :description_en, :description_ru,
            :seo_title_de, :seo_title_en, :seo_title_ru,
            :seo_description_de, :seo_description_en, :seo_description_ru
        )";
        
        $stmt = $this->db->prepare($sql);
        return $stmt->execute($data);
    }
    
    /**
     * Obnovit kategoriyu
     */
    public function updateCategory($id, $data) {
        $fields = [];
        foreach ($data as $key => $value) {
            $fields[] = "$key = :$key";
        }
        
        $sql = "UPDATE categories SET " . implode(', ', $fields) . 
               " WHERE id = :id";
        
        $data['id'] = $id;
        $stmt = $this->db->prepare($sql);
        return $stmt->execute($data);
    }
    
    /**
     * Udalit kategoriyu (i vsye docherniye)
     */
    public function deleteCategory($id) {
        $sql = "DELETE FROM categories WHERE id = :id";
        $stmt = $this->db->prepare($sql);
        $stmt->bindParam(':id', $id);
        return $stmt->execute();
    }
    
    /**
     * Poluchit kolichestvo obyavleniy v kategorii
     */
    public function getCategoryCount($categoryId, $includeChildren = true) {
        if ($includeChildren) {
            $categoryIds = $this->getAllChildIds($categoryId);
            $categoryIds[] = $categoryId;
            
            $placeholders = implode(',', array_fill(0, count($categoryIds), '?'));
            $sql = "SELECT COUNT(DISTINCT l.id) as count 
                    FROM listings l
                    JOIN listing_categories lc ON l.id = lc.listing_id
                    WHERE lc.category_id IN ($placeholders)
                    AND l.status = 'active'";
            
            $stmt = $this->db->prepare($sql);
            $stmt->execute($categoryIds);
        } else {
            $sql = "SELECT COUNT(DISTINCT l.id) as count 
                    FROM listings l
                    JOIN listing_categories lc ON l.id = lc.listing_id
                    WHERE lc.category_id = :category_id
                    AND l.status = 'active'";
            
            $stmt = $this->db->prepare($sql);
            $stmt->bindParam(':category_id', $categoryId);
            $stmt->execute();
        }
        
        $result = $stmt->fetch(PDO::FETCH_ASSOC);
        return $result['count'];
    }
    
    /**
     * Poluchit vse docherniye ID
     */
    private function getAllChildIds($parentId) {
        $children = [];
        $sql = "SELECT id FROM categories WHERE parent_id = :parent_id";
        $stmt = $this->db->prepare($sql);
        $stmt->bindParam(':parent_id', $parentId);
        $stmt->execute();
        
        while ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {
            $children[] = $row['id'];
            $children = array_merge($children, $this->getAllChildIds($row['id']));
        }
        
        return $children;
    }
}
```

---

## FRONTOVAYA CHAST - HTML/CSS/JS

### categories.html

```html
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kategorien - Auto Marketplace</title>
    <link rel="stylesheet" href="css/categories.css">
</head>
<body>
    <div class="container">
        <h1>Fahrzeugkategorien</h1>
        
        <!-- Breadcrumbs -->
        <nav class="breadcrumbs" id="breadcrumbs">
            <a href="/">Startseite</a>
        </nav>
        
        <!-- Kategorii -->
        <div class="categories-grid" id="categoriesGrid">
            <!-- Zapolnyaetsya cherez JavaScript -->
        </div>
        
        <!-- Filtry kategorii -->
        <aside class="category-filters" id="categoryFilters">
            <!-- Zapolnyaetsya dinamicheski -->
        </aside>
    </div>
    
    <script src="js/categories.js"></script>
</body>
</html>
```

### categories.css

```css
.categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    padding: 20px;
}

.category-card {
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
}

.category-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    border-color: #007bff;
}

.category-icon {
    font-size: 48px;
    margin-bottom: 15px;
    display: block;
    text-align: center;
}

.category-name {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 8px;
    color: #333;
}

.category-count {
    font-size: 14px;
    color: #666;
}

.category-level {
    position: absolute;
    top: 10px;
    right: 10px;
    background: #007bff;
    color: white;
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 11px;
}

.breadcrumbs {
    padding: 15px 20px;
    background: #f8f9fa;
    border-radius: 5px;
    margin-bottom: 20px;
}

.breadcrumbs a {
    color: #007bff;
    text-decoration: none;
    margin-right: 5px;
}

.breadcrumbs a:hover {
    text-decoration: underline;
}

.breadcrumbs span {
    margin: 0 5px;
    color: #666;
}

/* Adaptiv */
@media (max-width: 768px) {
    .categories-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 15px;
        padding: 15px;
    }
    
    .category-card {
        padding: 15px;
    }
}
```

### categories.js

```javascript
class CategoryManager {
    constructor() {
        this.currentCategory = null;
        this.categoriesData = [];
        this.init();
    }
    
    async init() {
        await this.loadCategories();
        this.renderCategories();
        this.setupEventListeners();
    }
    
    async loadCategories(parentId = null) {
        try {
            const url = parentId 
                ? `/api/categories?parent_id=${parentId}`
                : '/api/categories';
            
            const response = await fetch(url);
            this.categoriesData = await response.json();
            return this.categoriesData;
        } catch (error) {
            console.error('Fehler beim Laden der Kategorien:', error);
            return [];
        }
    }
    
    renderCategories() {
        const grid = document.getElementById('categoriesGrid');
        grid.innerHTML = '';
        
        this.categoriesData.forEach(category => {
            const card = this.createCategoryCard(category);
            grid.appendChild(card);
        });
    }
    
    createCategoryCard(category) {
        const card = document.createElement('div');
        card.className = 'category-card';
        card.dataset.categoryId = category.id;
        
        card.innerHTML = `
            <span class="category-level">Level ${category.level}</span>
            <span class="category-icon">${category.icon || 'ðŸš—'}</span>
            <div class="category-name">${category.name}</div>
            <div class="category-count">${category.count || 0} Anzeigen</div>
        `;
        
        card.addEventListener('click', () => this.navigateToCategory(category));
        
        return card;
    }
    
    async navigateToCategory(category) {
        this.currentCategory = category;
        await this.loadCategories(category.id);
        this.renderCategories();
        this.updateBreadcrumbs(category);
    }
    
    async updateBreadcrumbs(category) {
        const breadcrumbs = document.getElementById('breadcrumbs');
        
        try {
            const response = await fetch(`/api/categories/${category.id}/path`);
            const path = await response.json();
            
            let html = '<a href="/">Startseite</a>';
            path.forEach((cat, index) => {
                html += ` <span>></span> `;
                if (index === path.length - 1) {
                    html += `<strong>${cat.name}</strong>`;
                } else {
                    html += `<a href="#" data-id="${cat.id}">${cat.name}</a>`;
                }
            });
            
            breadcrumbs.innerHTML = html;
            
            // Dobavlyaem obrabotnichi dlya ssylok
            breadcrumbs.querySelectorAll('a[data-id]').forEach(link => {
                link.addEventListener('click', async (e) => {
                    e.preventDefault();
                    const catId = e.target.dataset.id;
                    const cat = await this.getCategoryById(catId);
                    this.navigateToCategory(cat);
                });
            });
        } catch (error) {
            console.error('Fehler beim Aktualisieren der Breadcrumbs:', error);
        }
    }
    
    async getCategoryById(id) {
        try {
            const response = await fetch(`/api/categories/${id}`);
            return await response.json();
        } catch (error) {
            console.error('Fehler:', error);
            return null;
        }
    }
    
    setupEventListeners() {
        // Iskat po kategoriyam
        const searchInput = document.getElementById('categorySearch');
        if (searchInput) {
            searchInput.addEventListener('input', (e) => {
                this.filterCategories(e.target.value);
            });
        }
    }
    
    filterCategories(query) {
        const cards = document.querySelectorAll('.category-card');
        cards.forEach(card => {
            const name = card.querySelector('.category-name').textContent;
            if (name.toLowerCase().includes(query.toLowerCase())) {
                card.style.display = 'block';
            } else {
                card.style.display = 'none';
            }
        });
    }
}

// Inicializaciya pri zagruzke stranicy
document.addEventListener('DOMContentLoaded', () => {
    new CategoryManager();
});
```

---

## ZAKLYUCHENIE

Eta sistema pozvolyaet:
1. âœ… Sozdavat kategorii lyuboy glubiny
2. âœ… Upravlyat ierarkhiey
3. âœ… Dobavlyat atributy k kategoriyam
4. âœ… Multilanguage podderzhka
5. âœ… SEO-optimizaciya
6. âœ… Bystryy poisk i navigaciya

**Gotovo k ispolzovaniyu!** ðŸš€